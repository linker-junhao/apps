import{d as f,j as n,r as m,b as e,F as p,A as h,B as u,f as w,M as k,p as y,D as v,g as b,h as B,C as x,q as C,s as c}from"./vendor.a41f8111.js";import{r as d,w as I}from"./index.4227082b.js";import{c as K,d as M}from"./index.2ab6f498.js";import{r as g}from"./utils.3820aba6.js";var U=f({name:"WorkList",props:{workKey:{type:String,required:!0}},setup(s){const o=n({name:"",id:""}),t=m([]);K(s.workKey).then(r=>{var i,l;o.value=r.data,g([((l=(i=r.data)==null?void 0:i.picKey)==null?void 0:l[0])||""],t)});const a=n(!1);return{workItem:o,coverBlobUrl:t,appBarMenuShow:a}},render(){var s,o;return e(p,null,[e(h,{title:"\u4F5C\u54C1\u8BE6\u60C5"},{left:()=>e(u,{round:!0,text:!0,color:"transparent","text-color":"#ffffff",onClick:()=>d.back()},{default:()=>[e(w,{name:"chevron-left",size:24},null)]}),right:()=>e(p,null,[e(k,{"offset-y":42,"offset-x":-20,show:this.appBarMenuShow,"onUpdate:show":t=>this.appBarMenuShow=t},{default:()=>[e(u,{round:!0,text:!0,color:"transparent","text-color":"#ffffff",onClick:()=>{this.appBarMenuShow=!this.appBarMenuShow}},{default:()=>[e(y("var-icon"),{name:"menu",size:"24"},null)]})],menu:()=>e("div",{class:"menu-list"},[[{label:"\u7F16\u8F91",op:"edit"},{label:"\u5220\u9664",op:"delete"}].map(t=>e("div",{class:"menu-item",onClick:async()=>{if(t.op==="edit"&&d.push({name:I.workEdit,params:{workKey:this.workKey}}),t.op==="delete"){const a=await v("\u786E\u8BA4\u5220\u9664\u8BE5\u6761\uFF1F");({confirm:()=>{M(this.workKey)},cancel:()=>{},close:()=>{}})[a]()}}},[b(e(x,null,{default:()=>[t.label]}),[[B("ripple")]])]))])})])}),e("div",{class:"p-3"},[e(C,{src:this.coverBlobUrl[0]||"",title:(s=this.workItem)==null?void 0:s.name,description:(o=this.workItem)==null?void 0:o.description},{subtitle:()=>{var t,a;return e("div",{class:"p-3"},[((t=this.workItem)==null?void 0:t.typeLayer1st)&&e(c,{color:"#009688",plain:!0},{default:()=>{var r;return[(r=this.workItem)==null?void 0:r.typeLayer1st]}}),((a=this.workItem)==null?void 0:a.typeLayer2nd)&&e(c,{color:"#009688",plain:!0},{default:()=>{var r;return[(r=this.workItem)==null?void 0:r.typeLayer2nd]}})])}})])])}});export{U as default};
