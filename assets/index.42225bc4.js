import{d,j as l,b as e,F as n,A as c,B as p,I as f,M as m,p as w,D as h,g as k,h as y,C as v,q as I,s as u,t as x}from"./vendor.b7d0e805.js";import{r as i,w as b}from"./index.c115da1d.js";import{c as g,d as B}from"./index.2ab6f498.js";import{F as C}from"./index.91e3cfd3.js";var j=d({name:"WorkDetail",props:{workKey:{type:String,required:!0}},setup(s){const o=l({name:"",id:""});g(s.workKey).then(r=>{o.value=r.data});const t=l(!1);return{workItem:o,appBarMenuShow:t}},render(){var s,o;return e(n,null,[e(c,{title:"\u4F5C\u54C1\u8BE6\u60C5"},{left:()=>e(p,{round:!0,text:!0,color:"transparent","text-color":"#ffffff",onClick:()=>i.back()},{default:()=>[e(f,{name:"chevron-left",size:24},null)]}),right:()=>e(n,null,[e(m,{"offset-y":42,"offset-x":-20,show:this.appBarMenuShow,"onUpdate:show":t=>this.appBarMenuShow=t},{default:()=>[e(p,{round:!0,text:!0,color:"transparent","text-color":"#ffffff",onClick:()=>{this.appBarMenuShow=!this.appBarMenuShow}},{default:()=>[e(w("var-icon"),{name:"menu",size:"24"},null)]})],menu:()=>e("div",{class:"bg-white"},[[{label:"\u7F16\u8F91",op:"edit"},{label:"\u5220\u9664",op:"delete"}].map(t=>e("div",{class:"menu-item",onClick:async()=>{if(t.op==="edit"&&i.push({name:b.workEdit,params:{workKey:this.workKey}}),t.op==="delete"){const r=await h("\u786E\u8BA4\u5220\u9664\u8BE5\u6761\uFF1F");({confirm:()=>{B(this.workKey),i.back()},cancel:()=>{},close:()=>{}})[r]()}}},[k(e(v,null,{default:()=>[t.label]}),[[y("ripple")]])]))])})])}),e("div",{class:"p-3"},[this.workItem?e(I,{title:(s=this.workItem)==null?void 0:s.name,description:(o=this.workItem)==null?void 0:o.description},{image:()=>{var t,r,a;return e(C,{class:"h-1/1 w-1/1 max-w-1/1",coverFileKey:((r=(t=this.workItem)==null?void 0:t.picKey)==null?void 0:r[0])||"",fileGroup:(a=this.workItem)==null?void 0:a.picKey},null)},subtitle:()=>{var t,r;return e("div",{class:"p-3"},[((t=this.workItem)==null?void 0:t.typeLayer1st)&&e(u,{color:"#009688",plain:!0},{default:()=>{var a;return[(a=this.workItem)==null?void 0:a.typeLayer1st]}}),((r=this.workItem)==null?void 0:r.typeLayer2nd)&&e(u,{color:"#009688",plain:!0},{default:()=>{var a;return[(a=this.workItem)==null?void 0:a.typeLayer2nd]}})])}}):e(x,{type:"circle"},null)])])}});export{j as default};
