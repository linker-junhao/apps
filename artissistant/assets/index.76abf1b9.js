var k=Object.defineProperty,h=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var l=(a,e,t)=>e in a?k(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,n=(a,e)=>{for(var t in e||(e={}))w.call(e,t)&&l(a,t,e[t]);if(r)for(var t of r(e))I.call(e,t)&&l(a,t,e[t]);return a},s=(a,e)=>h(a,y(e));import{d as D,r as x,j as V,b as o,F as b,A as v,B as u,f as j,k as U,U as g,l as p,S as i,O as d,i as B,m as S,n as F}from"./vendor.a41f8111.js";import{s as L,a as O}from"./index.2ab6f498.js";import{r as m,w as c}from"./index.0f329b25.js";import{w as f}from"./index.efaf0f26.js";function A(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!B(a)}var z=D({name:"WorkAppend",setup(){const a=x({name:""}),e=V();return{workInputData:a,formRef:e}},render(){let a;return o(b,null,[o(v,{title:"\u6DFB\u52A0\u6211\u7684\u4F5C\u54C1"},{right:()=>o(u,{round:!0,text:!0,color:"transparent","text-color":"#ffffff",onClick:()=>{m.push({name:c.workIndex})}},{default:()=>[o(j,{name:"format-list-checkbox",size:24},null)]})}),o("div",{class:"p-3"},[o(U,{ref:this.formRef},{default:()=>[o(g,{modelValue:this.workInputData.picKey,"onUpdate:modelValue":e=>this.workInputData.picKey=e,maxlength:6,maxsize:1024*1024,onBeforeRead:async e=>{if(e.file){const t=await L(e.file);if(t.file)return e.name=t.key,e.state="success",!0}return e.state="error",!1}},null),o(p,{placeholder:"\u8BF7\u8F93\u5165\u4F5C\u54C1\u540D",rules:[e=>!!e||"\u4F5C\u54C1\u540D\u4E0D\u80FD\u4E3A\u7A7A"],modelValue:this.workInputData.name,"onUpdate:modelValue":e=>this.workInputData.name=e},null),o(p,{placeholder:"\u4F5C\u54C1\u63CF\u8FF0",textarea:!0,rows:2,rules:[e=>!!e||"\u4F5C\u54C1\u540D\u4E0D\u80FD\u4E3A\u7A7A"],modelValue:this.workInputData.description,"onUpdate:modelValue":e=>this.workInputData.description=e},null),o(i,{placeholder:"\u9009\u62E9\u4F5C\u54C1\u7C7B\u578B",modelValue:this.workInputData.typeLayer1st,"onUpdate:modelValue":e=>this.workInputData.typeLayer1st=e},A(a=f.options.map(e=>o(d,{key:e.value,label:e.label,value:e.value},null)))?a:{default:()=>[a]}),o(i,{placeholder:"\u9009\u62E9\u8BE6\u7EC6\u5206\u7C7B",modelValue:this.workInputData.typeLayer2nd,"onUpdate:modelValue":e=>this.workInputData.typeLayer2nd=e},{default:()=>{var e;return[(e=f.getOptionByValue(this.workInputData.typeLayer1st||""))==null?void 0:e.children.map(t=>o(d,{key:t.value,label:t.label,value:t.value},null))]}})]}),o("div",{class:"mt-2"},[o(u,{block:!0,type:"primary",onClick:()=>{var e;O(s(n({},this.workInputData),{picKey:(e=this.workInputData.picKey)==null?void 0:e.map(t=>t.name||"")})),S.success("\u4F5C\u54C1\u6DFB\u52A0\u6210\u529F"),m.push({name:c.workIndex})}},{default:()=>[F("\u4FDD\u5B58")]})])])])}});export{z as default};
